# OEIS A00170: The N-Queens Problem

**Published:** March 22, 2025  
**Duration:** 11m 57s  
**Episode ID:** 17692946

üéß **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17692946-oeis-a00170-the-n-queens-problem)**

## Description

We explore the classic N-Queens counting problem from the OEIS entry A00170. Learn why 0 solutions appear for N = 2 and N = 3, why there are 2 solutions for N = 4, 10 for N = 5, and 92 for the 8√ó8 board (the Project Euler connection). We‚Äôll connect the combinatorics to graph theory via the N√óN queen graph and maximum independent sets, discuss backtracking and constraint-satisfaction approaches, and dive into why there‚Äôs no simple closed form. We also cover asymptotic behavior: Simkin‚Äôs 2021 approximation ~0.143 n^n and related constants, and the staggering computational effort required for larger N. A rich case study in algorithm design, combinatorics, and number theory that shows just how deep a ‚Äúsimple‚Äù puzzle can be.

## Transcript

Welcome back to the deep dive, everybody. As you know, we're on this journey through the OEIS, you know, the Online Encyclopedia of Integer Sequences. Specifically, we're kind of looking at it through the lens of number theory, you know, picking out topics that would be especially interesting to number theory students. And today, well, we've got a real classic problem on our hands, a problem that pops up all over the place in math and computer science. It's the N Queens problem, and it's meticulously documented in the OEIS as sequence A00170. Ah, yes, A00170. It's a fascinating sequence, really. It lists the number of ways you can arrange, well, you know, place N Queens on a chessboard. And it's an N by N chessboard, of course, so the size of the board matches the number of Queens. And the trip is none of the Queens can attack each other. It sounds, you know, pretty simple. But as we dig in, we find out it's got surprising depth and complexity. I know, right? You hear, you know, Queens on a chessboard and you think, oh, that's a cute little puzzle. But this, it's way more than just a brain teaser. So today, well, our mission, if you will, is to really explore this sequence, understand its quirks, and see why this seemingly playful problem has real significance, all while, you know, keeping things clear and avoiding too much jargon. So where should we even begin with this sequence? Well, I think the most logical place to start is at the very beginning of the sequence, the initial values. If you have a 0 by 0 board, basically an empty board, there's really only one way to place 0 Queens, right? You just have an empty board. And similarly, if you have a 1 by 1 board, just a single square, there's only one way to put a single Queen on it. These are the simplest cases, you know, the foundation. Yeah, those make sense, right? 0 Queens on no board, one way to do it, one Queen on one square, one way to do it. But then things get a little strange, don't they? They do indeed. When we look at N equals 2 and N equals 3, the sequence gives us 0 solutions. Think about it, a 2 by 2 board. If you place a single Queen, every other square on that board is under attack. So you can't put down a second Queen without them attacking each other. And the same idea applies to a 3 by 3 board. It takes a bit more visualization, but try as you might, you won't be able to fit three non-attacking Queens on there. And this actually reveals something important right away. Even with simple rules like how a Queen moves on a chessboard, finding a valid configuration, well, it can be surprisingly impossible. Yeah, it's funny, right? You'd think on these tiny boards there'd be some way to squeeze those Queens in. But as you said, it shows how restrictive those rules really are. But after those zeros, the sequence, it jumps back into positive territory, right? And that's where things get interesting, especially for, you know, us number theory folks. Precisely. For a 4 by 4 board, so N equals 4, there are exactly two distinct solutions. And what's really neat, and the OEIS entry actually shows you these two solutions. You can see how the Queens are positioned, you know, avoiding those lines of attack, and how these two arrangements are different but both work. It's quite elegant to see the symmetry and how careful of those Queens have to be placed. Yeah, those visual representations, they really help to wrap your head around it. And then when we move to a 5 by 5 board, N equals 5, the number of solutions jumps to 10. But then for a 6 by 6 board, N equals 6, it drops back down to 4. It's almost erratic. It's not a smooth, predictable pattern at all, even for these small values of N. It really shows that there's no simple formula to predict the number of ways to place these Queens. Exactly. And this complexity, it just explodes as the board size increases. Take the standard 8 by 8 chessboard, the one we all know and love. One of our sources pointed out that, and this ties into Project Euler problem 31, there are a whopping 92 ways to place 8 non-attacking Queens. And that's a huge jump from the single solutions we saw for N equals 0 and N equals 1. And even a big jump of the small handful of solutions for N equals 4, 5, and 6. This rapid increase is a classic example of combinatorial explosion. You know, when the number of possibilities grows really fast as the problem gets just a little bit bigger. Each new row and column on the board, well, it creates so many more places you could potentially put a Queen. And it makes the web of restrictions so much more intricate. 92, that sounds like a lot of ways to arrange those Queens. But that number, as big as it seems, it's really just the tip of the iceberg. Because when we look at larger values in the sequence, the numbers get astronomical. I mean, truly huge. You're absolutely right. When you get to N equals 27, the number of solutions is over 234 trillion. Trillion with a T. It's a mind-boggling number and it really highlights the power of combinatorial explosion. And this also underscores why simply trying to count all the possibilities for larger boards, well, it just becomes impossible. You need more sophisticated methods. 234 trillion. It's hard to even comprehend that many arrangements of anything, really. And what really hits home how difficult this problem is, is the sheer computing power it takes to figure out these numbers for larger boards. One of our sources mentioned that it took 53 years of CPU time. 53 years to calculate the number of solutions for N equals 25. Another calculation for N equals 25 took over 26,000 days. That's an incredible amount of processing power just to solve a single instance of this puzzle. It really is. And this difficulty, this computational intractability for larger values of N, it's a big reason why the N-Queens problem is so important in computer science. It's a classic example of what we call backtracking algorithms. These are algorithms where you explore possible solutions step by step, and if a path leads to a dead end, you backtrack and try a different route. It's a fundamental problem-solving strategy. So it's not just a fun puzzle. It's a problem that has taught us a lot about how to approach problems with lots of interconnected rules. It's really practical. Exactly. It's also a prime example of what we call a constraint satisfaction problem. You're trying to assign values, in this case the positions of the queens, to variables, the rows and columns, so that you satisfy a set of constraints, which is no two queens attacking each other. And because it's so complex, it's often used as a benchmark to test how well different optimization techniques and algorithms perform. It's a real proving ground for new ideas in computer science. So we've talked about the computational side of things, but the OEIS entry for A00170 also mentions some interesting mathematical connections, specifically a link to graph theory. It says that for n greater than 3, An is the number of maximum independent vertex sets in the n by n queen graph. So for our listeners who might not be graph theory experts, could you break that down a bit? What exactly is a queen graph and a maximum independent vertex set? Sure. Think of the chessboard as a graph. Each square on the board is a vertex or a node in the graph, and we draw an edge, a connection between two vertices if a queen on one of those squares could attack a queen on the other square. So this network of squares and their attacking relationships, that's our queen graph. Now an independent set of vertices in this graph is a group of squares where no two squares are connected by an edge. So in our queen graph, this means if you put queens on those squares, none of them can attack each other. And a maximum independent vertex set is simply the largest possible set of non-attacking squares you can find. So what this is saying is the n queens problem is the same as finding an independent set of size n in the n by n queen graph. Instead of thinking about placing pieces, we're looking for a special subset within a network. That's a really cool way to look at it. So by thinking about it in terms of graphs, we can use all the tools and techniques from graph theory to study this sequence. Exactly. And the OEIS entry also talks about the asymptotic behavior of the sequence, which is how the number of solutions changes as n gets very large. Michael Simkin, he did some really important work on this in 2021. He found an approximation that suggests that for large n, the number of solutions is roughly 0.143 times n to the power of n. This gives us a really valuable insight into how fast the sequence grows. So we might not have a perfect formula to calculate the number of solutions for any n, but this approximation tells us how the number of solutions explodes as the board gets bigger. It's basically n raised to the power n, but scaled down a bit by that 0.143 factor. Still a really, really fast rate of growth. It is. And the OEIS entry, it also mentions another asymptotic formula, slightly different one. It involves a constant, c, which is about 1.942, and a conjecture, a kind of mathematical guess about the limit of 1n times the logarithm of n factorial divided

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
