# OEIS A000219: Planar partitions

**Published:** May 10, 2025  
**Duration:** 11m 27s  
**Episode ID:** 17692991

ðŸŽ§ **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17692991-oeis-a000219-planar-partitions)**

## Description

A deep dive into the sequence A000219, the number of planar partitions. We explore McMahonâ€™s theorem linking box-restricted planar partitions to lozenge tilings of a hexagon with a hyperfactorial formula, and the recent dual McMahon results counting tilings outside a shamrock core. Weâ€™ll see how S-chord hexagons, half-integer hyperfactorials via the gamma function, and Kuoâ€™s graphical condensation come together, and how these tilings connect to posets, symmetry classes, and 3D stepped-surface interpretations in the OEIS web of ideas.

## Transcript

Welcome to the deep dive. Today we're back with our look into the online encyclopedia of integer sequences. And we're tackling a really interesting one. We are. It's A-000219, the number of planar partitions of n. Now, if you're studying number theory, this sequence, well, it pops up in some unexpected places. It really does. And the basic idea sounds simple enough, doesn't it? Yeah. How many ways can you arrange positive integers in a sort of grid? A 2D array, right. So they don't increase along the rows or down the columns, and they all add up to n. Like stacking numbered blocks, but with rules. Yeah. Non-increasing rules. Exactly. But like so many simple counting questions in math, this one just explodes with connections. Deep ones. That's the beauty of it. So our goal today is to explore some of those connections, looking particularly at some recent research that sheds new light on it. Okay. A good place to start, I think, is the classical result, McMahon's theorem. Right. Percy McMahon. Right. What does his theorem tell us? Well, it gives a way to count these planar partitions, but specifically those that fit inside a given box size, like dimensions LxMxN. Okay. A boundary condition. Makes sense. But here's the kicker. McMahon showed this number is exactly the same as the number of ways to tile a hexagon. Wait, a hexagon? A hexagon on the triangular lattice, yes. Using only lozenge shapes, you know, diamonds made of two equilateral triangles. So counting number stacks is the same as counting diamond tilings? That's unexpected. It really is. And the formula he found involves something called the hyperfactorial. Hyperfactorial. Okay, you have to explain that. It sounds large. It is. HNN is 1 to the power of 1 times 2 squared times 3 cubed, all the way up to N to the power of N. Wow. Okay. So that specific function counts both these partitions and these tilings. Precisely. Which tells you there's a very deep structure linking them. And, you know, McMahon's work isn't just history. It's still actively researched, surveyed, built upon. Right, a foundation. Now, the recent research takes this tiling idea and flips it, doesn't it? It looks at shamrock shapes. Exactly. Instead of tiling inside a hexagon, this work considers tiling the outside of a specific shape on the lattice. A shamrock shape. Like mathematically. Sort of, yeah. Imagine a central equilateral triangle, side length M. Then attach three more equilateral triangles to its sides, pointing outwards, with side lengths A, B, and C. Okay, I can picture that. A central triangle with three leaves. And the research focuses on tiling the infinite plane around this shamrock with lozenges. A total reversal. Inside versus outside. And they found what they call a dual McMahon theorem. It's quite elegant. Dual? How so? It relates the number of ways to tile the exterior of one shamrock to the tilings of the exterior of a different related shamrock. And guess what the formula involves. Let me guess. Hyperfactorials. You got it. A ratio involving hyperfactorials connects these two exterior tiling problems. It suggests this profound symmetry, a duality between different configurations. That's fascinating. Does it simplify at all? The paper mentions a special case, M, L plus B plus C. Ah, yes. When the central triangle's side length equals the sum of the outer leaf's side lengths, the formula becomes much cleaner. Any intuitive reason why that specific balance works? Well, geometrically, it creates a sort of equilibrium. It affects how the shamrock structure interacts with the infinite plane being tiled, leading to cancellations or symmetries in the mathematics. You can kind of see this balance visually in one of the paper's figures, figure nine. Okay. So we have McMahon's original theorem for inside a box and this dual theorem for outside a shamrock. But the research connects these even more, right? Through S chord hexagons. Yes, exactly. This is where it gets really general. First, imagine a normal hexagon on the lattice and you cut out a smaller equilateral triangle from the exact center. That's a chord hexagon. Okay, a hexagon with a triangular hole. Right. Now, an S chord hexagon replaces that simple triangular hole with our shamrock shape. Ah, okay. The shamrock becomes the core. Precisely. And not only that, but the outer edges of the main hexagon are also kind of pushed out or modified based on parameters related to the shamrock core. Figure two in the PNAS paper shows this quite well. So it's a hexagon with a shamrock hole and maybe bumpy edges. That's a decent way to think about it, yes. And the main result of the research is finding the exact number of lozenge tilings for these S chord hexagons. And I bet I know what function appears in the formula. Hyperfactorials again. But this time, they needed to extend the idea slightly. How so? The formulas involve hyperfactorials of integers and half integers. Half integers, like H3.5. How does that work? They use the gamma function, you know, the function that generalizes the factorial to complex numbers. It lets you define hyperfactorials for these half integer values needed by the geometry of the S chord hexagons. Wow, okay. That's quite sophisticated. How do they actually prove these formulas? The paper mentions induction and something called Kuo's graphical condensation. Right. Induction is standard enough. Prove a base case, then show it holds for the next step. Kuo's graphical condensation is a really powerful combinatorial technique. How does it work, roughly? It basically lets you relate the number of tilings of a complicated region to the number of tilings of several related smaller regions. It's like a determinant identity, but for graph matchings or tilings. You break the problem down. I see. And the paper mentions forced lozenges. Ah, yes. Those are crucial for the base cases of the induction. Sometimes near the boundary or the core, the geometry forces certain lozenges to be placed in only one specific way. Identifying those simplifies the starting point. Figure 4 shows that. And the condensation method helps build up from there. Figure 7 seems to show removing triangles. Exactly. Applying Kuo's method often involves removing small pieces, like unit triangles from the boundary, and seeing how the number of tilings changes, which helps derive the recurrence relations needed for the proof. So these powerful techniques connect the geometry to these hyperfactorial formulas. Does this general S-cord hexagon result connect back to simpler cases? It does. Beautifully. For instance, if you set the shamrock parameters A, B, and C all to zero, the shamrock just becomes a point or disappears. It essentially reduces the core back to a simple triangle, and the S-cord hexagon becomes just a regular hexagon with a triangular hole, recovering earlier known results. It's a good sanity check. Okay, that makes sense. What about the push-out parameters, X, Y, Z? What if they're zero? That's another neat case. If X, Y, and Z are zero, the S-cord hexagon actually breaks apart into three separate smaller hexagons. Figure 8 illustrates this. Three hexagons. Yes. So the formula for the S-cord hexagon in that specialization effectively gives you the product of the number of tilings for three independent hexagons, like three separate McMahon problems combined. It shows how the general theorem contains these simpler structures. It's all elegantly connected. And how do they get the dual McMahon theorem about the shamrock exterior from this S-cord hexagon result? You mentioned a limit argument. Right. They take the formula for the S-cord hexagon tiling, and then they let the outer boundary of the hexagon expand infinitely large. Okay. To handle the hyperfactorials in this limit, they use something called the Glacier-Kinklin formula, which gives an approximation for the hyperfactorial. This mathematical process allows them to transition from the finite S-cord hexagon to the infinite exterior of the shamrock. So the exterior tiling is like the limit of the cord hexagon tiling. Exactly. It connects the finite and the infinite cases. And figure 9 gives a nice visual for the symmetric form of that dual theorem. There's also a remark, remark 2, about interpreting these tilings as 3D stepped surfaces. Like stacking cubes. Sort of, yeah. A lozenge tiling can represent a 3D surface. And the cord region, whether it's a triangle or a shamrock, corresponds to a sort of flat plateau or defect in that surface. Figure 10 shows that idea. It adds another dimension. Okay, stepping back from the tilings for a moment. Our original sequence, A000219, the number of planar partitions. The OEIS entry itself points to other connections, right? Beyond tilings. Oh, absolutely. The OEIS is fantastic for that. For example, you can think of a planar partition as an order ideal in a specific partially ordered set. Order ideal. Possets. That sounds like abstract algebra territory. It is. It connects this combinatorial counting problem to the theory of ordered structures. It's a completely different lens to view it through. And symmetries. McMahon looked at symmetric partitions, too. He did. He and others identified 10 different symmetry classes of planar partitions. And remarkably, the formulas for counting these symmetric types are often very simple product formulas. Much simpler than the general case. It's often true in math that

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
