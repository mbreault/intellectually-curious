# OEIS A000307: Four-level labeled rooted trees

**Published:** August 14, 2025  
**Duration:** 6m 15s  
**Episode ID:** 17693076

ðŸŽ§ **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17693076-oeis-a000307-four-level-labeled-rooted-trees)**

## Description

We explore A000307, the count of four-level labeled rooted trees with n leaves. Despite the OEIS tag 'easy', the numbers explode quickly, and the mystery is why this structure is considered easy in theory. We explain what 'easy' means in OEIS terms, how the nested generating function exp(exp(exp(exp(x)))-1) encodes the four-level construction, and present the alternative Stirling-number sum formula that offers a different combinatorial viewpoint. Along the way weâ€™ll note the initial terms (1, 1, 4, 22, 154) and discuss why this elegant object sits at the intersection of recursion, generating functions, and partitions.

## Transcript

Welcome, curious minds, to another special deep dive. Glad to be here. Today we're plunging into the online encyclopedia of integer sequences, the OEIS. A fantastic resource. It really is. And our focus, it's OEIS 000307, known somewhat charmingly as four-level labeled rooted trees. Now this seems like a really insightful entry, especially if you're a student listener interested in number theory, maybe combinatorial structures. The numbers in this sequence, they just explode incredibly fast. And what's really caught my eye is that the OEIS entry tags it as easy. Ah, yes, the easy keyword. Right. So our mission today really is to unpack this apparent paradox. How can something describing these structures be easy? Let's unpack this. Okay, so A000307, it enumerates quite precisely the number of four-level labeled rooted trees with n leaves. Okay, let's break that down a bit. Sure. So imagine a hierarchy, right? Like a tree structure starting from one point, the root. That's the rooted part. Got it. Labeled means every single point, every node is unique. Think of them having distinct labels. So swapping identical looking branches actually makes it a different tree. Ah, okay. Distinctness matters. Exactly. And four-level means there are exactly four layers or tiers down from that root. The n leaves are the very bottom points, the terminals with nothing below them. Right, the ends of the branches at level four. Precisely. And the sequence starts, well, for n zero, it's one, which can seem odd, but it represents perhaps the simplest case, maybe just the root or an empty structure concept. A convention, maybe? Sort of. Then for n one, it's also one, but then it picks up. For n two, it's four, and three gives you 22. Wow. And for n of four, it jumps to 154. So you can immediately see that rapid growth you mentioned. Yeah, one, one, four, 22, 154. They really do shoot up fast. It makes you think, what's the engine behind this? There must be some powerful math describing it, especially for structures that sound, well, pretty specific, four-level, labeled, rooted. Absolutely. And if we want to connect this to the bigger picture, the core insight is really captured in this exponential generating function, the EGF. Okay, the EGF. And that is? It's xpxpxpxpx1-1. Whoa, okay. Say that again? Chuckles slightly. Xpxpxpxpx1-1. It looks a bit intense, I know. It's certainly a mouthful. It is. But think of an EGF as a way to sort of encode the entire sequence into one function. It's like a mathematical fingerprint for sequences where labels matter. Right. And what's really striking here is the iterated exponential, xpxpxpxpx1. This nesting. It beautifully mirrors the nested four-level structure of the trees themselves. Ah, I see. So the formula structure reflects the structure of the objects it's counting. That's elegant. It really is. It describes how something builds on itself level by level. But that brings you back to the easy keyword. You have this nested exponential beast of a formula, yet OEIS calls it easy. What's going on there? How is that easy? That's a great question. Easy in the OEIS context doesn't usually mean computationally trivial. Clearly, calculating an for large n isn't simple division. Right. Instead, easy typically points to the fact that its derivation is, well, direct. Or that it follows from standard, well-understood combinatorial principles. The concept or the path to the formula is considered straightforward within the field. So easy in terms of theoretical understanding, not calculation. Exactly. It suggests the underlying structure, while leading to complex results, is perhaps built from fundamental blocks in a known way. It's foundational. And the sequence, A000307, it was authored by Neil Sloan himself, the founder of OEIS. Okay. And it has many references showing it's well-studied. So easy means it's well-understood theoretically, part of the combinatorial toolkit, if you will. That makes a lot more sense. Okay. Now, you mentioned the EGF as the primary formula, but I think the entry also lists another one, something with Stirling numbers. Yes, that's right. There's an alternative sum formula. An is a triple summation involving Stirling numbers of the second kind, specifically sum Stirling to m, Stirling to m, Stirling rm, rn, for n0. Another complex one. So why have two different ways to get the same numbers? Do they tell us different things? They often do. That's why mathematicians like multiple perspectives. The EGF, as we said, captures that nested, recursive generation beautifully. Right, the expa, expa, expa. Whereas the Stirling number formula gives a different insight. Stirling numbers of the second kind, Stirling to n, count ways to partition a set of n items into k non-empty subsets. Okay. So this formula essentially breaks down the counting process level by level, thinking about how the nodes or leaves are partitioned and grouped as you move up or down the tree's four levels. It's a more perhaps constructive or partition-focused view. Like looking at the same thing from a different angle. Precisely. Each formula highlights a different aspect of the structure. Understanding both or even just knowing they exist gives you a richer appreciation. It really is a neat aha moment seeing how these discrete tree structures connect to powerful functions like EGFs and combinatorial numbers like Stirling's. So what does this all mean for you, our listener? Well, think about it. Whether it's these specific trees or maybe complex systems you encounter elsewhere, maybe in biology, computer science, or even social networks, deeply nested systems, things with multiple layers, they often seem incredibly complicated on the surface. They certainly can. But as we've seen with A000307, sometimes there's an underlying pattern, maybe even a surprising simplicity or predictability hidden within. It just takes a careful, focused, deep dive like this to reveal it. And exploring sequences like this on the OEIS is a great way to develop that intuition for finding patterns. Absolutely. So we definitely encourage you to browse the OEIS, click around and see what other mathematical elegance you can uncover. You might be surprised by the patterns hiding in plain sight. Indeed. The journey through these numbers often reveals profound connections. A perfect place to leave it for today. Thanks for joining us on this deep dive.

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
