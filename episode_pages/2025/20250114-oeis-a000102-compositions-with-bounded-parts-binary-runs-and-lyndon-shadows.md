# OEIS A000102: Compositions with bounded parts, binary runs, and Lyndon shadows

**Published:** January 14, 2025  
**Duration:** 13m 18s  
**Episode ID:** 17692883

ðŸŽ§ **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17692883-oeis-a000102-compositions-with-bounded-parts-binary-runs-and-lyndon-shadows)**

## Description

We explore A000102, the OEIS sequence counting compositions of n with parts at most four. Weâ€™ll unpack why the early terms look the way they do, examine the tidy seven-term recurrence and its generating function, and touch on the indexing convention OEIS uses. A surprising bridge then appears: A000102 also counts binary strings of length n whose longest run of zeros is exactly three. Weâ€™ll walk through a compact Python approach that only keeps the last seven values and see how that mirrors the recurrence. The episode then threads in Lucasâ€™s work on binary Lyndon words and hints at deeper connections, including a convolution link to Tribonacci and Tetranacci numbers. Tune in for a crisp voyage from simple rules to rich, interconnected math.

## Transcript

Welcome back to our ongoing deep dive into the OEIS. You know, as a number theory student, you're going to love this one. Today we're tackling A000102, a sequence that I think really gets to the heart of number theory. So get ready to explore compositions, binary sequences, and some really cool connections. That's a fascinating one. Yeah, so as a number theory student, you know that compositions are ways to break down an integer, right, into a sum of positive integers where order matters. But have you ever thought about limiting the size of the parts in those sums? Yeah, it's a natural constraint to consider. It is, right. And that's exactly what A000102 is all about. It focuses specifically on compositions where the biggest piece you can use is four. It's amazing how such a simple restriction can lead to such interesting mathematical patterns. So let's look at some examples from the sequence. It starts with 00012512 and keeps going. Now why do we start with those four zeros? Well think about it. If the largest part we can use is four, we can't form any compositions for the numbers one, two, or three, right? Right. You need at least four ones to even get to four. Exactly. The smallest possible composition would be one plus one plus one plus one, which equals four. So those first four zeros represent the fact that there are no valid compositions for one, two, and three with this constraint. Okay, that makes sense. And then the fifth term, which is one, that represents the composition for the number four, which is just four itself. Precisely. And then it takes off from there. Yeah, so let's look at the sixth term, which is five. This means there are five valid compositions for the number six using only parts of size four or smaller. Okay, so what are those five compositions? Well, we've got one plus one plus four, two plus four, four plus two, four plus one plus one, and one plus four plus one. Right, and you can see those listed in the OEIS entry, which is always a great resource. It's interesting to note that these are the only valid compositions for six under this constraint. Now here's where things get even more interesting, right? Yeah. The OEIS entry for A000102 highlights this connection to binary sequences. Right, which seems totally unrelated at first glance. It does. How can compositions with a maximum part size, you know, have anything to do with binary sequences? Yeah, well, the observation made by Jeffrey Kritzer states that the nth term of our sequence, An, it's also the number of binary sequences of length n where the longest run of consecutive zeros is exactly three. Okay, that's a mouthful. Can you break that down a bit? Sure. Let's take our example of A6 equals five again. So we're looking for binary sequences of length five since n and eo is five in this case, and these sequences have to have a maximum of three consecutive zeros. We're looking for those specific binary sequences of length five with at most three consecutive zeros. Right, and if you list them out, you'll find exactly five such sequences. 0000, 011, 1000, 1001, and 11000. Each of these has a longest run of three consecutive zeros, and that matches perfectly with those five compositions of six we talked about earlier. Wow, that is a really unexpected link. It makes you wonder what are the underlying mathematical reasons for this connection, right? It speaks to the interconnected nature of math where seemingly like disparate concepts can be linked in these surprising ways. Now, besides this really cool connection to binary sequences, the OEIS entry also gives us a generating function and a recurrence relation for A000102. Absolutely, and those are really powerful tools for understanding the sequence's behavior and calculating its terms. Yeah, so the generating function, which in this case is by four, one by two, by three, by four, this provides a really compact way to represent the entire sequence. I know generating functions can seem intimidating at first, but essentially they're like a code that encapsulates all the information about a sequence. Yeah, exactly. And by manipulating this code using techniques like power series expansions, we can actually extract the individual terms of A000102. Right, okay, so what about the recurrence relation? Well, the entry gives us this relation, An, 2An-1 plus An-2, 2An-4, 3An-5, 2An-6, -7. And this basically defines each term in the sequence based on the terms that came before it. So recurrence relations are great because they let you compute any term in the sequence without having to list out all the previous ones. Exactly. Let's say you want to find the 10th term, A10. You could just plug in the values for the previous seven terms and calculate it directly. That's super efficient, especially when you're dealing with large values of n. Absolutely. And it really highlights how understanding the mathematical structure of a sequence can lead to practical computational advantages. I like how it all ties together. So we've talked about compositions, we've got these binary sequences, these generating functions, recurrence relations, but there's even more to A000102 than what we've covered so far. Yeah, we've only just scratched the surface. There are connections to other famous sequences like the Tribonacci and Tetranacci numbers, which we're going to explore further in the next part of our deep dive. Stay tuned for those. This is already shaping up to be a really fascinating exploration, and I'm eager to uncover more about this sequence. It's a good one. Before we move on to those connections with other sequences, I want to go back to the Python code that's provided in the OEIS entry. Yeah, good idea. It's a nice example of how understanding the math behind the sequence can lead to a really efficient code to actually generate the sequence. Absolutely, yeah. It uses the recurrence relation that we just discussed, but instead of storing all the previously calculated terms, it just keeps track of the last seven. Right, and that's a smart optimization, right? It is, yeah. It saves a ton of memory, especially when you're calculating those terms with those large indices. Yeah, you don't want to be storing all those numbers. And it makes sense when you think about how the recurrence relation is structured, right? Each term only depends on those seven terms that came before it. Exactly, so you don't need to keep track of everything, just those last seven. And there's another little detail in the code that I noticed that I think is worth pointing out. Okay. There's a comment in the code that says, A000102 offset 00. Right. And this highlights the fact that the indexing for this sequence starts at zero, not one. Yeah, that's important. It's a convention used throughout the OEIS. Right, so the first term is zero, the second term is A1, and so on. Right, and it can sometimes trip people up because they might intuitively think of the first term as corresponding to the number one. Right, exactly. But in this case, it's actually a zero, which as we discussed is zero, zero, because of that constraint on the maximum part size. Exactly, yeah. So being aware of that indexing convention is crucial when you're working with the sequences in the OEIS. Now shifting gears a little bit, I'm really intrigued by this link to the paper by J.L. Lucas. It's called Counting Special Sets of Binary Lyndon Words. Oh, yeah, that's a good one. And it seems to dive deeper into that connection we were talking about between A000102 and binary sequences. It does. It's a great paper for anyone who wants to really explore the combinatorial aspects of the sequence. So Lyndon words are a specific type of binary sequence. I'm not super familiar with them, but they have some interesting properties, right? Yeah, they do. And the paper basically explores how those properties connect to the compositions we've been discussing. It's really cool to see how this seemingly simple sequence can lead to these more advanced topics. Yeah, absolutely. I mean, each sequence in the OEIS is like a rabbit hole, really. It is, yeah. There's so many connections you can make. It can lead you down all sorts of interesting paths. And with A000102, we're already seeing connections to compositions, binary sequences, generating functions, recurrence relations, and now even Lyndon words. It's a great example of how interconnected math really is. And it makes you wonder, right, if there are even more connections, more mathematical structures hidden within this sequence waiting to be found. Oh, absolutely, yeah. There's always more to discover. Now, speaking of uncovering patterns, you mentioned earlier that there's a connection to the Tribonacci and Tetranacci numbers. Right. But we haven't really explored that yet. Can you elaborate on that a little bit? Sure, yeah. That's another really interesting aspect of A000102. But to understand this connection, we need to introduce this idea of a convolution. Convolution. Okay, I'm not familiar with that. Yeah, so convolution is basically a mathematical operation that combines two sequences to produce a third sequence. So in essence, it involves taking weighted sums of terms from the two input sequences, and those weights are determined by their positions. Okay, so we're kind of like blending two sequences together in a specific way. Exactly, yeah. And it turns out that our sequence, A000102, can actually be expressed as the convolution of the Tribonacci and Tetranacci sequences. So it's like A000102 is a hybrid of those two sequences in a way. In a sense, yeah. It inherits properties from both of them. And this connection really highlights how seemingly unrelated concepts can be linked through these mathematical operations like convolution. Okay, that's fascinating. It adds another layer of complexity to our understanding of A000102. It does,

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
