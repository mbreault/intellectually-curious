# OEIS A000238: Number of oriented trees

**Published:** May 31, 2025  
**Duration:** 10m 3s  
**Episode ID:** 17693008

ðŸŽ§ **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17693008-oeis-a000238-number-of-oriented-trees)**

## Description

An oriented tree is a rooted, unlabeled directed tree whose underlying undirected graph is a tree, with all edges directed away from the root. In A000238 we count these structures up to isomorphism (unlabeled); this differs from Cayleyâ€™s labeled-tree counts and from Catalan numbers for ordered trees. Weâ€™ll trace how the sequence 1, 1, 3, 8, 27, 91 arises and place it in the larger context of tree counting and its role in math and computer science.

## Transcript

Welcome to the Deep Dive. We're the place where we take your sources and really dig into them to find the core insights. And today we're looking at the Online Encyclopedia of Integer Sequences, the OEIS. It's just an indispensable resource. Absolutely, especially for anyone studying number theory or really anyone who loves patterns and numbers. It's this amazing collaborative effort. Truly remarkable. So the specific sequence we're focusing on today is OEIS A000238. The description is pretty simple, number of oriented trees. We've got a few different sources lined up, a foundational paper by Donald Knuth on tree enumeration, which is quite something. Oh yes, Knuth on combinatorics is always enlightening. And we've got Wikipedia and Geeks for Geeks entries covering graph theory, different kinds of trees, you know, the basics and comparisons. And the OEIS page for A000238 itself, naturally. So our goal, our mission, if you like, is to really get a handle on what an oriented tree is according to these sources and understand how counting them gives us this particular sequence, 1138 and so on. Okay, let's unpack that. What exactly is an oriented tree? What are we counting here? Well, starting with the definitions from the sources, you begin with a basic tree structure. In graph theory, that means a connected graph but with no cycles. Right, so no loops, can't start at a point, follow the connections, and end up back where you started, like a family tree kind of. Exactly like that. But then for an oriented tree, there's an extra layer. Each connection, each edge, has a specific direction assigned to it, an arrow, essentially. Ah, so it's not just connections, it's one-way streets between the points. Precisely. It becomes a type of directed acyclic graph, a DAG, but with a special property that if you ignored all the arrows, the underlying structure is just a simple tree. Okay, and the sources mention roots. Yes, typically these oriented trees are considered to have a designated root node, a special starting point. This makes them different from, say, free trees, which have no root and no edge directions. And different from ordered trees, too. I saw that mentioned. Correct. In ordered trees, the left-right order of the branches coming off a node matters. For oriented trees, it's purely about the direction of the connection, not the visual layout. Knuth's paper actually has some helpful figures showing this. Gotcha. And the computer science source adds some useful terms. The root is the only node with no parent, no incoming edge. Leaves are nodes with no children, no outgoing edges. And nodes have degrees, meaning how many children they have. Yes, the standard terminology, yes. It helps pin down the structure. So a rooted structure, branches, no cycles, and crucially, every branch is a one-way path. You've got it. Now, counting these, how many ways can you arrange N nodes into such a structure? This sounds like a classic combinatorial problem. It absolutely is. And there's a very famous result linked to counting trees mentioned in our sources, Cayley's formula. Right, Arthur Cayley from way back in 1889. Indeed. He showed that the number of distinct trees you can form on N vertices, crucially labeled vertices, is N to the power of N minus 2. Okay, N, N, 2. The Wikipedia source explicitly mentions this for labeled trees. And the Knuth paper connects this count to oriented trees, specifically those with a specified root on N labeled vertices. So if each vertex has a unique identifier, like a number from 1 to N, this formula tells you how many ways you can wire them up as a rooted oriented tree. And the OEIS sequence A000238 gives the actual numbers, 1, 1, 3, 8, 27, 91. Right. Let's check the formula against those first few terms, see if it lines up. Okay, for N1, just a single node, sequence is 1, Cayley's formula is 1, tall 1, which is a bit weird, but intuitively 1 node is 1 structure, so it fits. Fair enough. For N2, 2 nodes, sequence is 1, Cayley's formula, 2 to 2, or vice versa if you pick the root, but 1 structure. Well, if the root is specified, say vertex 1 is the root, then 1 must point to 2. If vertex 2 is the root, 2 must point to 1. If we're counting rooted trees, Cayley's formula implies different root choices are possible within the N, N, 2 count, leading to N, N, N, N, 2, rooted labeled trees. Let's pause that thought, though, and stick to the N, N, 2 for now and see where it leads versus the sequence. Okay, let's just check N3 then. Sequence A000238 says 3. Cayley's formula, 3, 3, 3 by 2, is 3 to 3, the first 3, okay, that matches 2. Seems consistent so far. But then we hit N4. The OEIS sequence A000238 gives the number 8. Right, 8. But Cayley's formula, 4 to the power of 4 minus 2, that's 4 squared, which is 16. Ah, 16, not 8. So wait, what's happening? The formula gives 16, the sequence gives 8. They're both supposed to be counting oriented trees on 4 nodes, aren't they? This is where the details become absolutely critical. Remember how we noted Cayley's formula N, N, 2 is specifically for trees on labeled vertices. Labeled, right. Meaning vertex 1 is different from vertex 2, and swapping them creates a distinct structure in the count. Exactly. If you have nodes labeled A, B, C, D, then having A as the root pointing to B, C, D is counted separately from having B as the root pointing to A, C, D. And the specific connections matter based on the labels. Okay. Now look at the sequence values again, 1, 1, 3, 8, 27. This sequence is well known in combinatorics, but it typically counts rooted, unlabeled trees. Unlabeled, so the nodes are just generic points and only the shape of the tree matters, not which specific point is which. Precisely. The identity of the vertices doesn't matter, only the abstract structure. The Wikipedia source on graph theory even makes this point. Counting labeled trees, Cayley, is simpler than counting unlabeled trees, for which there isn't usually a nice closed formula like Cayley's. So for N apart, those 16 different labeled rooted oriented trees must correspond to only 8 structurally distinct unlabeled shapes. That seems to be exactly what's going on. Many of the 16 labeled configurations become isomorphic, structurally identical when you ignore the labels. N000238 appears to be counting these unlabeled structures. Okay, that makes sense. It highlights how careful you have to be with definitions in combinatorics. Labeled versus unlabeled, a huge difference. It really is. And while Knuth's paper discusses Cayley's formula near the discussion of oriented trees, the sequence itself, 000238, aligns with the count for rooted unlabeled oriented trees. A subtle but crucial distinction. And this kind of stuff gets even more complex, right? Oh, absolutely. Cayley's formula is elegant, but it's just scratching the surface. The Knuth paper, for instance, dives into generalizations. Imagine coloring the vertices and adding rules about which colors can connect to which. Wow, okay. That sounds complicated. It involves more advanced techniques, like using determinants and matrix theorems derived from Toots' work. It shows the depth required for these more constrained enumeration problems. And it's not just labeled unlabeled. We saw ordered trees mentioned too. Right. The Geeks for Geeks source points out that if you count unlabeled ordered trees, where the left-to-right order of children matters, but nodes are unlabeled, you get a completely different sequence, the Catalan numbers. Catalan numbers, 1, 1, 2, 5, 14, compared to our 1, 1, 3, 8 sequence. Totally different counts just by changing oriented to ordered. Exactly. Rooted, unrooted, labeled, unlabeled, oriented, ordered. Each variation defines a different set of objects to count, often leading to a unique integer sequence in the OEIS. It's a whole landscape of tree types. So zooming out a bit, why all this focus on counting trees? What's the broader significance for mathematicians or computer scientists? Well, trees are just fundamental. They model hierarchical relationships everywhere. You mentioned family trees, think about file systems on a computer. Or biological classifications like the tree of life. Precisely. And in computer science, they are workhorse data structures. The CS source mentions their use in making searches efficient, think spell checkers, autocomplete suggestions. And networks too. Minimal connections. Yes, representing things like minimal spanning trees in network design, they are incredibly versatile structures. So understanding how many possible tree structures exist for a given size, what does that tell us? It tells us about the inherent complexity. Knowing that the number of possible rooted, unlabeled, oriented trees grows from 1 to 3 to 8 to 27 just by adding one node at each step. It explodes pretty quickly. It does. And that combinatorial explosion has real consequences. If you're designing an algorithm that might need to explore different possible tree structures, say, to find the best one for some purpose, knowing how rapidly the number of possibilities grows is crucial for understanding

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
