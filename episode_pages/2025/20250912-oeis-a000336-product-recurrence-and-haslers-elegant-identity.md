# OEIS A000336: Product recurrence and Hasler's elegant identity

**Published:** September 12, 2025  
**Duration:** 4m 8s  
**Episode ID:** 17834691

ðŸŽ§ **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17834691-oeis-a000336-product-recurrence-and-hasler's-elegant-identity)**

## Description

In this Deep Dive we zoom in on OEIS A000336, the classic product-recurrence sequence. Starting with a1=1, a2=2, a3=3, a4=4 and, for nâ‰¥5, an = anâˆ’1 Â· anâˆ’2 Â· anâˆ’3 Â· anâˆ’4, the seeds explode into astonishing growth: a5=24, a6=576, a7=165,888, a8=9,172,942,848, and far beyond. Weâ€™ll unpack why such a simple rule yields such rapid, almost astronomical expansion and how later terms acquire hundreds of digits (a12, for example, reaches 139 digits). A standout twist is Haslerâ€™s elegant alternative formula: for nâ‰¥6, an = (anâˆ’1)Â² / anâˆ’5. This identity reveals a telescoping structure hiding in the product recurrence and helps explain the hidden regularity behind the chaos. Weâ€™ll also touch on how A000336 connects to other OEIS sequencesâ€”e.g., exponent-tracking sequences like A001631 for the 3-adic/prime-exponent footprint of anâ€”and show how cross-references and code examples (Maple, Mathematica, PRI) illuminate these relationships. The episode concludes with reflections on how such deceptively simple rules can yield deep, structured mathematics and what they hint at for exploring other OEIS entries.

## Transcript

Welcome back to The Deep Dive. We cut through the noise, and today we're zoning in on something really specific from the number theory world. It's an entry from the Online Encyclopedia of Integer Sequences, the OEIS. We're looking at A000336 as part of our series for number theory students. It's called a product recurrence relation. Yes, and the OEIS, well, it's just an incredible resource, isn't it? A000336 is a, I think, a fascinating case study. It shows how, you know, really simple starting rules can lead to just mind-bogglingly fast growth. And maybe more surprisingly, how they can connect to some very elegant alternative descriptions. Okay, let's dig into that. The basic definition for A000336 looks pretty straightforward on the surface. It's a n, a n1, a n2, a n3, a n4, and it starts with initial conditions. a n is just n if n is less than 5, so the sequence begins 1, 2, 3, 4. Exactly, those first four numbers, 1, 2, 3, 4. They're the seeds, and you see the effect immediately. To get the fifth term, a5, you just multiply those seeds, 1, 2, 3, 4. That gives you 24. Right, 24, and then for the next one, a6. Well, now you use the rule again. You take the four terms before it, a2, a3, a4, and the new a5. So it's 2, 3, 4, 24, which comes out to 576. You can already feel that multiplicative effect kicking in, you know, it's taken off. It really is. Looking at the terms laid out, 1, 2, 3, 4, 24, 576. Then it jumps to 165,888. And the next one is already over 9 billion. 9,172,942,848. It's not just growing, it's exploding. Exploding is the right word. There's a comment on the OEIS entry by Harvey P. Dale. He points out that the next term after the 9 billion one, it has 139 digits. Just let that sink in. Wow, 139 digits. Yeah. And for people working in computational mathematics, this kind of rapid growth is a serious consideration. How do you handle numbers that big? Why do they grow that fast? It pushes the boundaries of computation and, honestly, our intuition about scale. It certainly makes you think. But often in mathematics, especially in number theory, sequences like this can have, well, other ways to describe them, right? You see this crazy product of four terms and you start wondering, is there a simpler way? Maybe a hidden pattern? That's where it gets particularly elegant. M.F. Hasler found just such a pattern, an alternative formula. For n5, it turns out that an is equal to an1 to an5. OK, hold on. An1 squared divided by an5. That seems much simpler than multiplying four terms. It is. And it's not just simpler computationally. It suggests something deeper about the structure. It implies this kind of telescoping cancellation is happening within that four-term product. Squaring the previous term and dividing by one five steps back achieves the same result. It's quite beautiful, actually. That really changes how you see the sequence. And there's even another formula mentioned, isn't there? Something connecting it to other OEIS sequences. Ah, yes, by Vaclav Kodesovec. He gives an 2a251656n3a001631n1. This shows how sequences in the OEIS often talk to each other. A000336 is related to the exponent sequences for its prime factors, like 2 and 3. So it connects to a broader mathematical landscape. Precisely. The cross-ref section on the OEIS page lists connections to sequences like A001631, which specifically tracks the exponent of 3 in the prime factorization of an. It tells us the growth isn't just random multiplicative chaos. It's structured, particularly in terms of its prime factors. And you see practical code examples too, Maple, Mathematica, PRI, showing how mathematicians actually explore these things. So we started with a simple product. Multiply the last four terms. That led to this incredible explosive growth. But hidden underneath was a more elegant formula, an1 to an5, and connections through prime factors to a whole network of other sequences. It's amazing how much depth is packed into one OEIS entry. It really is. And it leaves you wondering, doesn't it? What other simple-looking rules, maybe even basic recurrence relations you encounter in your own studies, might hide similar efficiencies? What unexpected algebraic structures or connections are just waiting there in the OEIS for you to uncover? It definitely encourages more exploration.

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
