# OEIS A000340: Recursive sequences, explicit formulas, and generating functions

**Published:** September 16, 2025  
**Duration:** 5m 39s  
**Episode ID:** 17853154

ðŸŽ§ **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17853154-oeis-a000340-recursive-sequences-explicit-formulas-and-generating-functions)**

## Description

Today on The Deep Dive we explore OEIS A000340: the recursively defined sequence with a(0)=1 and a(n)=3Â·a(nâˆ’1)+n+1. We trace its explicit closed form, its generating function, and the other recurrences OEIS lists that define the same numbers. We'll also place A000340 in a broader mathematical contextâ€”its connections to sums of powers of 3, appearance in combinatorial triangles, and its classic roots in Sloan's handbooksâ€”along with some modern applications in chip-firing games, permutation patterns, and number expansions. A compact example of how different descriptions illuminate different properties of the same sequence.

## Transcript

Welcome back to The Deep Dive. Today we're jumping into the OEIS, the Online Encyclopedia of Integer Sequences. That's right. And we're looking at sequence A00034. Our goal is to sort of unpack its definitions, its different forms, and maybe find some surprising links in number theory. It's a really interesting one, actually. It shows up in a few different disguises. Okay, so let's start with the main definition we found. It's recursive. It starts simple. A0 is 1. Right, A0 is 1. And then for n greater than 0, An equals 3 times the previous term, An-1 plus n plus 1. Exactly. So using that rule. You get the sequence. 1, then 31 plus 1 plus 1 is 5. Then 35 plus 2 plus 1 gives you 18. And it keeps going. 5, 8, 179, 543. It's a clear step-by-step process. But what does that recursive nature really mean? Well, it fundamentally means each number is born from the one just before it. You take a term, do that specific operation times 3, add n, add 1, and boom, you get the next one. Like a chain reaction. Precisely. It defines the sequence perfectly, but you know, if you want the hundredth term. You have to calculate the first 99. There's no skipping ahead with this definition. Not directly, no. It describes the process step-by-step. Okay, so that's great for seeing how it grows. But what if you just want the answer? Like, is there an explicit formula, a shortcut? There is actually, and it looks quite different. It's An plus 2, 2n 5 4. Whoa, okay. That's much more compact. And what's insightful here, I think, is that this formula tells you something the recursion hides. What's that? You immediately see the exponential growth. That 3 to the power of n plus 2 dominates everything. The recursion implies it, but this formula shows it. Right. You see the 3n part driving the growth, and then the n 2n 5 is just a minor adjustment, relatively speaking. Exactly. It turns the step-by-step process into a direct calculation. A static blueprint, you could say. And digging deeper, we also found a generating function. Ah, yes. Which looks like 1 over 1 3x times 1 x squared. 1 1 3x 1 by 2. It seems so simple. How does that little fraction hold the entire infinite sequence? Well, that's the power of generating functions. You can think of it as an encoded form of the sequence. Encoded how? If you were to expand that fraction as a power series in x, the coefficients of x by 1 by 2 and so on. That would be 1 5 18 58, our sequence terms. Exactly. It maps the sequence onto the coefficients of a polynomial or power series. And this specific form is analytically useful. It's not just a curiosity. It helped in understanding related sequences too. Okay, this is where it gets really interesting for me. The OEIS entry lists other recursive definitions for the same sequence. Right, that's quite common in the OEIS. Like An equals 5 An-1, 7 An-2 plus 3 An-3. That looks totally different. It does. It's a linear recurrence with constant coefficients. It relates a term to the three previous terms. And there's another one. An equals 4 An-1, 3 An-2 plus 1. But you need slightly different starting points. A1 0 and A0. Yes. And this brings up a really fundamental point. Why? Why do completely different rules generate the exact same numbers? Yeah, what's going on there? It shows that mathematical patterns are often deeply interconnected. These different recurrences arise from the underlying structure, often related to the roots of the characteristic equation derived from the generating function. So different definitions can highlight different properties. One might be better for computation, another for proofs. Precisely. It gives you multiple perspectives, multiple tools to work with the same object. So it's not just defined multiple ways, it connects to other sequences too. Oh, absolutely. It's quite connected. It represents the partial sums of sequence A0003462. Okay. And it's also the second partial sums of A000244. Which is just powers of 3, 1, 3, 9, 27. That's the one, 3n. So A000340 builds upon that fundamental sequence in a specific way. It also appears in certain mathematical triangles, like A15692. So it's definitely not some isolated sequence. It's part of a bigger web. A very rich web, yes. And this isn't some new discovery either. It's been around. Oh yes, it's in Sloan's original 1973 handbook. And the 1995 encyclopedia too. Foundational stuff. But importantly, it's not just history. People are still citing it. We saw recent papers using it in things like chip firing games, permutation patterns, even number expansions. So it keeps finding new relevance. Which shows how these fundamental patterns often underpin quite diverse areas of mathematics. Okay, so let's recap. We started with A000340's main recursive definition. Found a direct explicit formula, saw its generating function, and even multiple other recursions. And uncovered its links to other sequences, showing it's embedded in a larger mathematical context. It really is a sequence that wears many hats. It is. And exploring just this one entry, A000340, really highlights how different mathematical tools, recursion, explicit formulas, generating functions, give you different insights into the same underlying pattern. It makes you think, how does having these different descriptions help when you actually try to solve a problem? That's a great question. Which form is most useful depends entirely on the problem you're tackling. Sometimes you need the step-by-step view. Other times the global formula, or maybe the algebraic properties of the generating function. So maybe the question for you listening is, which of these descriptions feels most intuitive or powerful to you? And why? Something to ponder. Indeed. That's all the time we have for this deep dive. Thanks for joining us. Thank you.

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
