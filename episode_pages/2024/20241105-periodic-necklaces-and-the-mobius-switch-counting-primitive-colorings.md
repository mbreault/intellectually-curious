# Periodic Necklaces and the Mobius Switch: Counting Primitive Colorings

**Published:** November 05, 2024  
**Duration:** 15m 30s  
**Episode ID:** 17692813

ðŸŽ§ **[Listen to this episode](https://intellectuallycurious.buzzsprout.com/2529712/episodes/17692813-periodic-necklaces-and-the-mobius-switch-counting-primitive-colorings)**

## Description

We dive into the rebel side of necklace counting: aperiodic (period-n) colorings that stay unique under every nontrivial rotation. Using Burnsideâ€™s lemma and the MÃ¶bius function, we derive the primitive-necklace formula a(n,k) = (1/n) âˆ‘_{d|n} Î¼(d) k^{n/d} for counting these primitive patterns. Weâ€™ll unpack what Î¼ does, work through a quick example (n = 6, k = 2), and connect this to the broader OEIS landscape, setting the stage for the bracelet story when reflections come into play in the next episode.

## Transcript

All right, ready to dive into something a little unexpected. Oh, I love unexpected. Today's deep dive, the math behind necklaces and bracelets. Necklaces and bracelets. Yeah, I know, I know. Sounds kind of kindergarten-y. Yeah, right. But trust me, this gets complex and fascinating fast. Oh, I believe it. Math can hide anywhere. Exactly. And we're not talking about actual jewelry here. No. Nope. In combinatorics, necklace and bracelet are all about arranging objects in a circle. Okay, so like a pattern, not the jewelry itself. Exactly. And with bracelets, there's an added twist, reflections. Ooh, like mirror images. Precisely. To guide us, we've got excerpts from two sources. Let's hear them. First, the Online Encyclopedia of Integer Sequences, or OEIS. The OEIS? Yeah, it's this giant database of integer sequences. Full of mathy goodness, I bet. Oh, yeah. And second, we've got the Wikipedia article on necklace and bracelet counting. So two perspectives on the same concept. Cool. Exactly. So, mission briefing time. By the end of this deep dive, you'll be able to look at a necklace or bracelet. And see more than just beads. Yep. You'll see the mathematical principles at play. But first, basics. What is a necklace in this mathematical sense? Imagine a string of beads in a circle. Okay, got it. Now, if you rotate that string and it looks the same as another arrangement, they're considered the same necklace. Ah, so it's the arrangement. Yeah. Not the specific position of each bead. Exactly. Think of a clock face. Move the hour hand, it's still the same clock, just a different time. Makes sense. So what makes a bracelet different? Just the flipping? Exactly. With bracelets, reflections matter. Okay, so if I flip it and it looks different, that's a separate bracelet. You got it. It's like your left and right hand. Mirror images, but not the same. I'm picturing this. So if I have a bracelet, say, three red beads, three green beads. Yeah. Just by flipping, I might make a new arrangement. You got it. And the Wikipedia article has a cool example. Ooh, tell me. Imagine three bracelets, all three red beads, three green. Okay, visualizing it. Two of them, when you rotate them, become the same. So one necklace. Right, because rotation doesn't make them unique. Exactly. But the third one is special. It's chiral. Chiral? Like my hands again, not symmetrical. Exactly. Flip this chiral bracelet, boom, totally new arrangement. Can't get that just by rotating. So three bracelets, but four necklaces. You got it. Reflections can make things way more complex. My brain's already hurting a little. Ha ha ha. But it's cool complexity. Now, how do we count all these possibilities? I can't just keep picturing beads forever. Right, there's got to be a better way. There is. Enter the OEIS sequences. They're like cheat codes for counting this stuff. Cheat codes? Nice. For example, necklaces with two colors. That's sequence A000009. Writing this down. Bracelets. A081720. Plug in the number of beads, bam, you get the number of arrangements. So it's like a lookup table for all these combinations. Exactly. But how did they come up with those numbers in the first place? Some serious math must be involved. I'm ready to get mathy. All right, first up, Euler's totient function, denoted as phinous. It's all about counting numbers that are relatively prime to a given number. Relatively prime. Remind me what that is. It means two numbers share no common divisors other than one. Okay. Like 8 and 15 are relatively prime. Only one divides into both evenly. So they're like mathematical strangers only connected by the number one. Exactly. Euler's totient function tells you how many of those strangers exist for a given number. Okay, I'm with you so far. But what does this have to do with necklaces? Ah, the magic is about to happen. Imagine a necklace with, say, six beads. Six beads, yeah. Euler's totient function helps us count only the unique rotations of this necklace. Because we don't want to count the same arrangement multiple times just because we spun it around. Precisely. And this is where divisors come in? Divisors. Yeah. Like numbers that divide evenly into another number. Exactly. For six, the divisors are 1, 2, 3, and 6. Think of them as different ways to jump around our necklace. Jump around. Yeah. Like jumping by two beads gives you a different pattern than jumping by three, right? Oh, I see. So divisors are like different step sizes for moving around the necklace. And some steps create the same arrangement, which is where Euler's totient function helps us. Precisely. It eliminates rotations that don't create unique arrangements. So it's like a filter getting rid of the duplicates, leaving us with only the truly unique necklaces. Exactly. A mathematical sieve for necklaces. Wow, that's pretty neat. Euler and divisors working together. Teamwork makes the dream work. What else do we need to count necklaces and bracelets? Lay it on me. Multinomial coefficients. They're all about counting arrangements when we have different types of objects. Different types. Like in our case, beads of different colors. You got it. They tell us how many ways to arrange things when order matters, which is key for necklaces and bracelets. Okay, multinomial coefficients. Vaguely ringing a bell from high school. They involve factorials, if that helps jog your memory. Ah, factorials, right. Those things that get big really fast. Yep, they help us figure out, for example, if we have two red, two yellow, and two green beads. How many different necklaces we can create. Exactly. Like having different buckets for each color, and the multinomial coefficient tells us how many ways to fill those buckets to make a unique necklace. Okay, starting to click. This is already way more complex than I initially thought. Anything else we need to consider? One more concept. Stirling numbers of the second kind. Stirling numbers? Sounds intimidating. Don't worry, they're just a fancy way of dealing with a specific situation. Imagine you have a set of colors, and you want to use all of them in your necklace or bracelet. Use all of them, okay. Stirling numbers tell us how many ways we can divide our beads into groups of different colors, making sure every color is used. So not just arranging, but grouping by color, making sure no color gets left out. Precisely. Adds a whole new layer of complexity. And it has real-world applications too. Like what? Like figuring out how many ways you can form committees with diverse representation. Whoa, from beads to committees. This math is reaching everywhere. But for now, back to the beads. Remember those three red and three green bead bracelets? Yeah, the ones where two were the same necklace and one was chiral. We can use the formulas from our sources and the concepts we just discussed to calculate the number of possible necklaces. Wait, really? Show me how that works. All right, so with those bracelets, we ended up with four distinct necklaces, right? Yep, because of that chiral one. The formula for counting necklaces uses Euler's totient function and the number of colors. If we plug in n equals 6 for the total beads and k equals 2 for our two colors. What does the formula give us? It spits out the number 4. Whoa, so the formula actually predicted what we saw with the beads. That's pretty wild. It is, right? And it gets even cooler with more complex examples. Remember those 11 bracelets with 2 red, 2 yellow, and 2 green beads? Yeah, those were a mouthful. The Wikipedia article shows us there are 16 distinct necklaces possible from those. 16 necklaces from 11 bracelets. Some chiral trickery going on there. You bet. Five of those 11 bracelets are chiral, meaning the reflections create unique necklaces, hence the higher count. Okay, so reflections really mess with the numbers. I'm starting to see how powerful these formulas are. They might look scary, but they're just tools to help us make sense of these arrangements. Exactly. Tools to unlock the patterns. But wait, we've only talked about necklaces so far. What about bracelets and their reflections? They must have their own formula, right? You're right. Bracelets do have their own special formula, building on the necklace one. It takes into account whether the number of beads is even or odd, because that affects how reflections create unique arrangements. But that's a story for the next part of our deep dive. This is already more than I ever thought I'd know about necklaces and bracelets. I can't wait to see what else we uncover in the next part. Back again, diving deeper into necklaces and bracelets, still processing all that math from the first part. Yeah, combinatorics can be a real brain workout. But so cool once you start seeing the patterns. Speaking of patterns, you mentioned something called a periodic necklaces before. What are those exactly? Ah, a periodic necklaces. They're kind of the rebels of the necklace world. How so? Well, remember our necklace definition, where rotations can lead to the same arrangement. Yeah, like the clock face example. Exactly. A periodic necklaces break that rule. No matter how you rotate them, you always get a unique arrangement. Every single rotation is a new arrangement. How is that even possible? It's like snowflakes, each one totally unique. And to count them, we use a special tool, the Mobius function. Mobius function?

---
*This episode was generated from the Intellectually Curious Podcast. For more episodes, visit our [main site](https://intellectuallycurious.buzzsprout.com).*
